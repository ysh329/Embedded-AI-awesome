---
layout: default
---

# 嵌入式AI简报 (2021-05-21)  

**关注模型压缩、低比特量化、移动端推理加速优化、部署**  

> 导读：本次17条。【新闻】；【论文】；【开源】；【博文】。


好了，先是一些热身小新闻ヽ(✿゜▽゜)ノ：

- 手机市场：realme副总裁徐起：上半年 5G 高端芯片严重缺货如骁龙 888/870，4G 芯片缺货更严重。下半年涨价趋势是必然的，存储和芯片、甚至充电器元器件都在涨，涨价幅度大概在 10% 左右；
- Github：仓库的Issues (议题)、Pull requests （拉取请求）和Discussions （讨论）等，可以上传视频，支持的视频格式包括：.mp4和.mov两种文件；
- 美国 && 超算：全球球最快AI超算Perlmutter上线，近 4 百亿亿次浮点运算的 AI 性能，包括6159个A100 Tensor Core GPU。将在美国国家能源研究科学计算中心 (NERSC) 正式投入使用，是迄今人工智能领域使用 16 位和 32 位混合精度数学处理工作负载的最快超级计算机；
- 谷歌：Pixel 6的Whitechapel处理器的新细节再曝光，可能将是一款性能与Snapdragon 870相似的5nm芯片，据传谷歌会将重点放在机器学习技术上使其AI性能达到其它领先的移动芯片的水平；
- 商汤：计划最快年底前赴港上市，同时推动在A股上市。据悉，商汤科技最近已就来港上市与内部及外部人士进行了讨论。该公司对在香港及上海两地上市持开放态度，但目前未知会否两地同时上市；
- AMD：
- 
- [AMD Zen5巨变：3nm工艺、混搭Zen4 | 硬件世界](https://mp.weixin.qq.com/s/nY2HawN3nNeqfxjTrRnPjA)  
摘要：Zen5架构的锐龙APU将会引入大小核设计，包括最多8个大核心、4个小核心。大核心的架构无疑是Zen5，小核心的之前不明确，如今看来就是这个Zen4D，也就是在Zen4架构的基础上做适当调整或者说精简，更突出能效。至于说集成的GPU部分，之前说性能目标已经确定，但还没有任何细节曝光出来，理论上应该是某一代RDNA架构。
另有说法称，Zen5+Zen4D的大小核设计主要针对笔记本移动端，兼顾高性能和高能效，至于桌面上是否如此，目前还不确认，但至少都是3nm工艺。除此之外，Zen5架构还会有新的缓存体系，内存子系统也将发生较大变化。据了解，Zen4 CPU核基于台积电5nm打造，不过I/O Die则是6nm工艺，相较当前的12nm明显提升，其次，单个CPU Die是8核设计，两组就是16核、三组就是24核，事实上，AMD的确在测试24核的产品（消费级锐龙，非线程撕裂者），但最终能否交付，还需要看调试效果和市场部门。性能方面，对比Zen3，IPC（每时钟周期指令集）的提升在20%左右，同时加入对AVX-512指令集的支持，使得EPYC Genoa相较Milan，每瓦性能增加超50%；
- 英特尔：7纳米处理器完成Tape in，台积电或协助生产。英特尔新任CEO帕特·基尔辛格（Pat Gelsinger） 日前宣布，7 纳米制程的Meteor Lake 处理器计算模组已完成处理器设计。7 纳米制程Meteor Lake 处理器将为新一代Core-i 系列处理器导入重大设计变更，也就是以类似小芯片的方式藉由多个计算模组（Compute Tile）组成，并采用取代Golden Cove 的全新Redwood Cove 核心架构，预计可带来IPC 性能和架构方面的重大改进，将接替10 纳米制程Alder Lake 和RaptorLake 处理器；
- 苹果：M1曝出违反ARM机构规范的无法修复漏洞，苹果承认存在该问题。开发人员Hector Martin 近期发现，搭载于新款iPad Pro/MacBook Air/MacBook Pro/Mac mini/重新设计过的iMac 的M1 芯片竟然有无法修复的安全漏洞，可让两个应用程序秘密交换数据，即便使用者没有开启使用应用程序，一样可数据交换。不仅仅M1，iPhone 12采用的A14 芯片也有一样问题；该漏洞也可能存在下一代M1 芯片（M1X）；

> 注：个别链接打不开，请点击文末【阅读原文】跳转


## 业界新闻  

- [谷歌I/O大会：第四代 TPU 每秒10万万亿次运算，今年将向谷歌云用户提供服务 | 量子位](https://mp.weixin.qq.com/s/3LkNDLOxKe2S5Mhj6Wq59A)  
链接：https://spectrum.ieee.org/tech-talk/computing/hardware/heres-how-googles-tpu-v4-ai-chip-stacked-up-in-training-tests  
摘要：一个TPU v4 pod就能达到1 exaflop级的算力，v4将主要以 pod 形式应用，一个 pod 由 4096 个 TPU v4 单芯片组成，可以达到1 exaflop级的算力，这相当于1000万台笔记本电脑之和。  
与上一代TPU v3相比，在64个芯片的规模下，TPU v4的性能平均提升了2.7倍。TPU v4 pod的性能较TPU v3 pod提升了10倍。在BERT的训练中，256块TPU v4也将时长缩短到1.82分钟。后续 v4 pod将会应用在谷歌的数据中心，并在今年内向谷歌云用户提供服务。  
- [台积电开始量产苹果A15芯片，iPhone 13或如期发布 | 芯东西](https://mp.weixin.qq.com/s/9PRsWaX7pCR6bROaykzWXQ)  
摘要：据台媒报道，台积电已开始量产苹果新一代iPhone芯片A15，这将为iPhone 13系列提供动力。去年，苹果的生产计划被疫情打乱节奏，iPhone 12系列的发货时间比以往晚了1个月左右。不过今年到现在为止，尽管芯片短缺、部分地区新冠肺炎疫情仍在蔓延等问题还未改善，苹果似乎正避开各种不利因素，其新一代iPhone预计最早将于今年9月发布。  
据报道，A15芯片的需求量将超过A14。A15将使用与A14相同的5nm制造工艺，也有传言称苹果将在2022年使用4nm芯片。另据业内人士透露，苹果iPhone供应链中的下游模块制造商可能会在6月左右开始为相关零部件的出货，为苹果新一代iPhone设备做准备。  
A15芯片的需求量将超过A14。A15将使用与A14相同的5nm制造工艺，也有传言称苹果将在2022年使用4nm芯片。  
- [Arm全面计算战略重磅升级！Armv9架构CPU | 芯基建](https://mp.weixin.qq.com/s/38WzCqPVvY1qIdkNJgpxGg)  
摘要：今年三月，Arm推出了面向未来十年的新一代架构Armv9。今天，Arm发布新一代CPU、GPU产品和互联技术，Arm要用全新的全面计算产品组合，应对智能手机、高性能PC、可穿戴等众多应用的计算需求和设计挑战。  
全新的CPU内核包括高性能核心Cortex-X1的升级版Cortex-X2，Cortex-A78的继任者Cortex-A710，时隔四年后升级Cortex-A55的全新小核心Cortex-A510。
三款全新的CPU核心都基于今年三月份推出的Armv9架构，可谓一键三连，因此在改进性能和效率的同时，也将拥有扩展的SVE（可伸缩矢量扩展）、机密计算架构、内存标签扩展特性。  
    1. Arm新一代Mali GPU产品包括高端系列Mali-G78的继任者Mali-G710，中端系列Mail-G57的后继产品Mali-G510，以及高能效产品Mali-G310。新款中低端G610继承了 Mali-G710 的所有功能，微体系结构相同，但价格更低。G610配置低于7个内核。Arm的高端GPU并不十分理想，三星已经确认在下一代Exynos GPU中采用AMD RDNA GPU，海思麒麟SoC被按下了暂停键。联发科成为最后一个会采用Mali高端GPU的公司，但他们至今还未推出真正的旗舰级SoC，所以有可能看不到高端Mali-G710产品。  
    2. Arm还发布了CoreLink CI-700 一致性互连技术和 CoreLink NI-700片上网络互连技术与Arm CPU、GPU和NPU IP搭配，可跨SoC解决方案增强系统性能。   
    3. 对32位的舍弃。为了了支持生态系统对于性能的需求， 2023 年将仅提供 64 位的移动应用大核和小核。因为在Armv9架构的全新三款CPU中，Cortex-X2和Cortex-A510只支持AArch64微体系结构，它们不再能够执行AArch32代码，而Cortex-A710仍将支持AArch32。Arm解释称这主要是为了满足中国市场需求，由于中国移动应用市场缺乏像Google Play商店的同类生态系统，中国的供应商以及应用程序需要更多时间过渡到64位应用程序。这意味着，在采用Arm全新Cortex内核的SoC上如果要运行32位的应用程序，只能运行在Cortex-A710核心。
    4. 新的Armv9架构的三个CPU产品的哲学。X2和A710总体保持着X1和A78的目标，**X系列愿意在合理的范围内折衷功率，通过微体系结构提高性能**。**A710则更着重于PPA（性能、功耗、面积）的平衡**，通过更智能的设计提高性能和效率。**小核A510是四年来的首次更新，是一种全新的小巧设计。**
Arm称Cortex-A510新内核与此前的旗舰内核Cortex-A73的单核性能和频率非常相似，但功耗却低很多。据悉，Arm采用了一个被称为“合并内核”的设计方法，这是一种非常复杂的方法，最多两个核心对，它们共享L2缓存系统以及它们之间的FP / NEON / SVE管道。Armv9-A CPU群集（cluster）的支柱是新款的动态共享单元（ DynamIQ Shared Unit）DSU-110，DSU-110 具备可扩展性、可支持最多八Cortex-X2 内核配置，同时确保效率表现。

 



## 论文


- [傅里叶变换取代Transformer自注意力层，谷歌这项研究GPU上快7倍、TPU上快2倍 | 我爱计算机视觉](https://mp.weixin.qq.com/s/1Ws8WiWwWHk5zS8_rf1JAw)  
摘要：来自谷歌的研究团队表明，将傅里叶变换取代 transformer 自监督子层，可以在 GLUE 基准测试中实现 92% 的准确率，在 GPU 上的训练时间快 7 倍，在 TPU 上的训练时间快 2 倍。




## 开源项目

- [plasma-umass/scalene: a high-performance, high-precision CPU, GPU, and memory profiler for Python](https://github.com/plasma-umass/scalene)  
摘要：Scalene 是一个 Python 的高性能 CPU, GPU 和 内存分析器，可在行级别下执行CPU分析，如代码行执行时间。
CPU分析：可将库调用和用户代码时间分开，解耦分离出系统花费时间如I/O调度时间；GPU 分析：目前仅限于基于nVidia的系统；Memory 分析：如代码行内存使用分析，识别内存泄漏，该功能是通过引用专门的内存分配器来实现的。也可以在分理出 Python代码 与 本地代码 内存消耗的百分比。此外，也支持通过 @profile 装饰器只对特定函数进行分析。当 Scalene 在对后台启动(通过 &)的程序进行分析时， 你可以 暂停和恢复分析。  




## 博文

- [内联汇编很可怕吗？看完这篇文章，终结它！ | IOT物联网小镇](https://mp.weixin.qq.com/s/3LFUDmK1To9oQWhUgau1Iw)  
摘要：在 Linux 代码中，经常可以看到在 C 代码中，嵌入部分汇编代码，这些代码要么是与硬件体系相关的，要么是对性能有关键影响的。这篇文章，我们就来详细聊一聊在 C 语言中，如何通过 asm 关键字来嵌入汇编语言代码，文中的 8 个示例代码从简单到复杂，逐步深入地介绍内联汇编的关键语法规则。  
- [面向NNA 功能覆盖的精简操作集计算 （ROSC） | Imagination Tech](https://mp.weixin.qq.com/s/VJsL5RNguJH_z4gMnzlZQA)  
摘要：RISC（精简指令集计算机）的设计理念长久性地改变了计算的面貌，在本文中，我们提出了一种全新涉及神经网络加速器功能的方案：精简操作集计算（ROSC）。
从 RISC 及其演变情况来看，重点是小型、高度灵活和低层级的指令集，允许更深入的流水、向编译器的复杂性转移以及更好的整体性能。RISC 几十年来一直主导着计算机架构，是当今领先处理器架构的基础。
然而，RISC 的优势在某些操作局限于少量特定操作的应用。这种计算问题的一个典型例子是卷积神经网络（CNN） 推理，其中绝大多数的计算和带宽要求针对少量层：例如，卷积、池化和激活。在这样的设置中，需要使用硬件加速器，并针对这些常见任务进行专用的固定功能实现。执行这些操作之外的任何操作都将导致硬件无法打造最佳状态，要消耗更多的功耗和面积，以达到每秒相同的目标操作数。

